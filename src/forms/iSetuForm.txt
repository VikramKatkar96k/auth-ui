import React, { useState, useEffect } from "react";
import {
  ArrowLeft,
  FileText,
  User,
  MapPin,
  Briefcase,
  Users,
  Download,
  CheckCircle,
} from "lucide-react";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import { Checkbox } from "@/components/ui/checkbox";
import { useToast } from "@/hooks/use-toast";
import districtsData from "../data/districts.json";
import api from "@/lib/axios";
import Layout from "@/components/home/Layout";


// üëâ TypeScript interfaces
interface FormData {
  name: string;
  age: string;
  district: string;
  sub: string;
  village: string;
  beneficiaryType: string;
  childName: string;
  valueChild: string;
  caste: string;
  Religion: string;
}


interface Checkboxes {
  casteCheckbox: boolean;
  incomeCheckbox: boolean;
  Residency: boolean;
  vivah: boolean;
  alp: boolean;
  farmer: boolean;
  vanshavali: boolean;
  nishar: boolean;
  formA: boolean;
  formB: boolean;
  bhumihin: boolean;
  non: boolean;
}


const SetuForm: React.FC = () => {
  const { toast } = useToast();

  // üì¶ State for form data
  

  const [form, setForm] = useState<FormData>({
    name: "",
    age: "",
    district: "",
    sub: "",
    village: "",
    beneficiaryType: "",
    childName: "‡§∏‡•ç‡§µ‡§§:",
    valueChild: "",
    caste: "",
    Religion: "",
  });

  

  // üì¶ State for checkbox-based document selection
  const [checkboxes, setCheckboxes] = useState<Checkboxes>({
    casteCheckbox: false,
    incomeCheckbox: false,
    Residency: false,
    vivah: false,
    alp: false,
    farmer: false,
    vanshavali: false,
    nishar: false,
    formA: false,
    formB: false,
    bhumihin: false,
    non: false,
  });

  // üì¶ State for taluka/village dropdowns
  const [talukaList, setTalukaList] = useState<any[]>([]);
  const [villageList, setVillageList] = useState<string[]>([]);

  // üì¶ State for success/error UI
  const [success, setSuccess] = useState("");
  const [error, setError] = useState("");
  const [submittedDocuments, setSubmittedDocuments] = useState<string[]>([]);
  const [queryParams, setQueryParams] = useState("");
  const [isSubmitting, setIsSubmitting] = useState(false);

  // üîÅ On mount: Set default district, taluka, village
  useEffect(() => {
    if (districtsData.length > 0) {
      const defaultDistrict = districtsData[0];
      const defaultTaluka = defaultDistrict.subdistricts[0];
      const defaultVillage = defaultTaluka.villages[0];

      setForm((prev) => ({
        ...prev,
        district: defaultDistrict.name,
        sub: defaultTaluka.name,
        village: defaultVillage,
      }));

      setTalukaList(defaultDistrict.subdistricts);
      setVillageList(defaultTaluka.villages);
    }
  }, []);

  // üîÑ District change handler
  const handleDistrictChange = (selectedDistrict: string) => {
    const district = districtsData.find((d) => d.name === selectedDistrict);
    const talukas = district?.subdistricts || [];
    const villages = talukas[0]?.villages || [];

    setForm((prev) => ({
      ...prev,
      district: selectedDistrict,
      sub: talukas[0]?.name || "",
      village: villages[0] || "",
    }));

    setTalukaList(talukas);
    setVillageList(villages);
  };

  // üîÑ Taluka change handler
  const handleTalukaChange = (selectedTaluka: string) => {
    const taluka = talukaList.find((t: any) => t.name === selectedTaluka);
    const villages = taluka?.villages || [];

    setForm((prev) => ({
      ...prev,
      sub: selectedTaluka,
      village: villages[0] || "",
    }));

    setVillageList(villages);
  };

  // üîÑ Village change handler
  const handleVillageChange = (selectedVillage: string) => {
    setForm((prev) => ({ ...prev, village: selectedVillage }));
  };

  // üîÑ Input handler
  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const { name, value } = e.target;
    setForm((prev) => ({ ...prev, [name]: value }));
  };

  // üîÑ Select change handler
  const handleSelectChange = (name: string, value: string) => {
    setForm((prev) => ({ ...prev, [name]: value }));
  };

  // üîÑ Checkbox change handler
  const handleCheckboxChange = (id: string, checked: boolean) => {
    setCheckboxes((prev) => ({ ...prev, [id]: checked }));
  };

  // ‚¨ÖÔ∏è Go back
  const handleBack = () => {
    window.history.back();
  };

  // ‚úÖ Submit form
  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setIsSubmitting(true);

    try {
      // üîê Basic validation
      const required = ["name", "age", "village", "sub", "district", "beneficiaryType"];
      for (let key of required) {
        if (!form[key as keyof typeof form]) {
          setError("‡§∏‡§∞‡•ç‡§µ ‡§´‡•Ä‡§≤‡•ç‡§° ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§Ü‡§π‡•á‡§§!");
          return;
        }
      }

      // üîê Caste check if caste document selected
      if (checkboxes.casteCheckbox && (!form.caste || !form.Religion)) {
        setError("‡§ï‡•É‡§™‡§Ø‡§æ ‡§ú‡§æ‡§§ ‡§Ü‡§£‡§ø ‡§ß‡§∞‡•ç‡§Æ ‡§≤‡§ø‡§π‡§æ!");
        return;
      }

      // üîÅ Format child name if "‡§Æ‡•Å‡§≤‡§ó‡§æ/‡§Æ‡•Å‡§≤‡§ó‡•Ä"
      let finalChild = form.childName;
      if (["‡§Æ‡•Å‡§≤‡§ó‡§æ", "‡§Æ‡•Å‡§≤‡§ó‡•Ä"].includes(form.childName) && form.valueChild) {
        finalChild = `${form.childName} - ${form.valueChild}`;
      }

      // üßæ Get selected documents from checkboxes
      const selectedDocuments = Object.entries(checkboxes)
        .filter(([_, value]) => value)
        .map(([key]) => key);

      if (selectedDocuments.length === 0) {
        setError("‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡§ø‡§Æ‡§æ‡§® ‡§è‡§ï ‡§¶‡§∏‡•ç‡§§‡§ê‡§µ‡§ú ‡§®‡§ø‡§µ‡§°‡§æ!");
        return;
      }

      const dataToSend = {
        ...form,
        childName: finalChild,
        selectedDocuments,
      };

      // üì° Simulate API call (replace with actual API later)
      await new Promise((resolve) => setTimeout(resolve, 2000));
      // await api.post("/api/setu-form", dataToSend);

      // ‚úÖ Show success
      setSuccess("‚úÖ ‡§´‡•â‡§∞‡•ç‡§Æ ‡§Ø‡§∂‡§∏‡•ç‡§µ‡•Ä‡§∞‡§ø‡§§‡•ç‡§Ø‡§æ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ù‡§æ‡§≤‡§æ ‡§Ü‡§π‡•á!");
      setError("");

      // üîó Prepare download links
      const queryObj: Record<string, string> = {
        ...form,
        childName: finalChild,
        selectedDocuments: selectedDocuments.join(","),
      };
      const query = new URLSearchParams(queryObj).toString();

      setSubmittedDocuments(selectedDocuments);
      setQueryParams(query);

      toast({
        title: "‡§´‡•â‡§∞‡•ç‡§Æ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ù‡§æ‡§≤‡§æ!",
        description: "‡§§‡•Å‡§Æ‡§ö‡§æ ‡§´‡•â‡§∞‡•ç‡§Æ ‡§Ø‡§∂‡§∏‡•ç‡§µ‡•Ä‡§∞‡§ø‡§§‡•ç‡§Ø‡§æ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ù‡§æ‡§≤‡§æ ‡§Ü‡§π‡•á.",
      });

      // üîÑ Reset form
      setForm({
        name: "",
        age: "",
        district: "",
        sub: "",
        village: "",
        beneficiaryType: "",
        childName: "‡§∏‡•ç‡§µ‡§§:",
        valueChild: "",
        caste: "",
        Religion: "",
      });

      setCheckboxes({
        casteCheckbox: false,
        incomeCheckbox: false,
        Residency: false,
        vivah: false,
        alp: false,
        farmer: false,
        vanshavali: false,
        nishar: false,
        formA: false,
        formB: false,
        bhumihin: false,
        non: false,
      });

      // üïí Auto-clear messages
      setTimeout(() => {
        setSuccess("");
        setSubmittedDocuments([]);
        setQueryParams("");
      }, 10000);
    } catch (error: any) {
      const message = error.response?.data?.message || error.message || "Unknown error";
      setError(message);
      setSuccess("");
      setTimeout(() => setError(""), 4000);
    } finally {
      setIsSubmitting(false);
    }
  };

  // üìÑ Document selection UI
  const documentOptions = [
    { id: "casteCheckbox", label: "‡§ú‡§æ‡§§ ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§™‡§§‡•ç‡§∞", icon: User, color: "text-blue-600" },
    { id: "Residency", label: "‡§∞‡§π‡§ø‡§µ‡§æ‡§∏‡•Ä ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§™‡§§‡•ç‡§∞", icon: MapPin, color: "text-green-600" },
    { id: "incomeCheckbox", label: "‡§â‡§§‡•ç‡§™‡§®‡•ç‡§® ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§™‡§§‡•ç‡§∞", icon: Briefcase, color: "text-orange-600" },
    { id: "vivah", label: "‡§µ‡§ø‡§µ‡§æ‡§π ‡§∂‡§™‡§•‡§™‡§§‡•ç‡§∞", icon: Users, color: "text-pink-600" },
    { id: "alp", label: "‡§Ö‡§≤‡•ç‡§™‡§≠‡•Ç‡§ß‡§æ‡§∞‡§ï ‡§∂‡§™‡§•‡§™‡§§‡•ç‡§∞", icon: FileText, color: "text-purple-600" },
    { id: "farmer", label: "‡§∂‡•á‡§§‡§ï‡§∞‡•Ä ‡§∂‡§™‡§•‡§™‡§§‡•ç‡§∞", icon: FileText, color: "text-emerald-600" },
    { id: "vanshavali", label: "‡§µ‡§Ç‡§∂‡§æ‡§µ‡§≤‡•Ä", icon: FileText, color: "text-indigo-600" },
    { id: "nishar", label: "‡§®‡§ø‡§∞‡§ï‡•ç‡§∑‡§∞ ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§™‡§§‡•ç‡§∞", icon: FileText, color: "text-gray-600" },
    { id: "formA", label: "‡§´‡•â‡§∞‡•ç‡§Æ A", icon: FileText, color: "text-cyan-600" },
    { id: "formB", label: "‡§´‡•â‡§∞‡•ç‡§Æ B", icon: FileText, color: "text-teal-600" },
    { id: "bhumihin", label: "‡§≠‡•Ç‡§Æ‡§ø‡§π‡•Ä‡§® ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§™‡§§‡•ç‡§∞", icon: FileText, color: "text-rose-600" },
    { id: "non", label: "‡§®‡•â‡§® ‡§ï‡•ç‡§∞‡§ø‡§Æ‡•Ä‡§≤‡•á‡§Ø‡§∞", icon: FileText, color: "text-amber-600" },
  ];

  return (
  <Layout>
    <div className="w-full h-screen overflow-y-auto p-4 bg-gradient-subtle">
     
        
    
    <div className="w-screen h-screen overflow-y-auto bg-gradient-subtle p-4">
  <div className="w-full h-full flex flex-col items-center justify-start">
        {/* Header with Back Button */}
        <div className="flex items-center gap-4 mb-8">
                    

        <Card className="shadow-xl border-0 bg-white/80 backdrop-blur-sm">
          <CardHeader className="bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-t-lg">
            <CardTitle className="text-center text-xl font-semibold flex items-center justify-center gap-2">
              <FileText className="h-6 w-6" />
              üìù ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§™‡§§‡•ç‡§∞‡§æ‡§¨‡§æ‡§¨‡§§ ‡§∏‡•ç‡§µ‡§Ø‡§Ç ‡§ò‡•ã‡§∑‡§£‡§æ‡§™‡§§‡•ç‡§∞
            </CardTitle>
          </CardHeader>

          {/* Success Message with Document Links */}
          {success && submittedDocuments.length > 0 && (
            <div className="m-6 p-6 bg-success/10 border border-success/20 rounded-lg">
              <div className="text-center text-success font-semibold mb-4 flex items-center justify-center gap-2">
                <CheckCircle className="h-5 w-5" />
                {success}
              </div>
              <div className="space-y-4">
                <h2 className="text-center text-lg font-semibold text-success">üìù ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§¶‡§∏‡•ç‡§§‡§ê‡§µ‡§ú:</h2>
                <div className="flex flex-wrap justify-center gap-4">
                  {submittedDocuments.map((id) => {
                    const option = documentOptions.find(opt => opt.id === id);
                    const label = option?.label || id;

                    return (
                      <Button
                        key={id}
                        variant="outline"
                        className="bg-card border-success/30 text-success hover:bg-success/10 gap-2"
                        onClick={() => {
                          toast({
                            title: "‡§¶‡§∏‡•ç‡§§‡§ê‡§µ‡§ú ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§°",
                            description: `${label} ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§π‡•ã‡§§ ‡§Ü‡§π‡•á...`,
                          });
                        }}
                      >
                        <Download className="h-4 w-4" />
                        {label}
                      </Button>
                    );
                  })}
                </div>
              </div>
            </div>
          )}

          {/* Error Message */}
          {error && (
            <div className="m-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg">
              <div className="text-destructive font-semibold flex items-center gap-2">
                <span className="text-lg">‚ö†Ô∏è</span>
                ‡§§‡•ç‡§∞‡•Å‡§ü‡•Ä: {error}
              </div>
            </div>
          )}
    

          <CardContent className="p-8">
            <form onSubmit={handleSubmit} className="space-y-6">
              {/* Personal Information Section */}
              <div className="grid md:grid-cols-2 gap-6">
                <div className="space-y-2">
                  <Label htmlFor="name" className="text-sm font-semibold text-foreground flex items-center gap-2">
                    <User className="h-4 w-4 text-primary" />
                    ‡§®‡§æ‡§µ *
                  </Label>
                  <Input
                    id="name"
                    name="name"
                    value={form.name}
                    onChange={handleInputChange}
                    className="transition-all duration-200 focus:shadow-md"
                    placeholder="‡§§‡•Å‡§Æ‡§ö‡•á ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§®‡§æ‡§µ ‡§≤‡§ø‡§π‡§æ"
                  />
                </div>

                <div className="space-y-2">
                  <Label htmlFor="age" className="text-sm font-semibold text-foreground">
                    ‡§µ‡§Ø *
                  </Label>
                  <Input
                    id="age"
                    name="age"
                    type="number"
                    value={form.age}
                    onChange={handleInputChange}
                    className="transition-all duration-200 focus:shadow-md"
                    placeholder="‡§§‡•Å‡§Æ‡§ö‡•á ‡§µ‡§Ø ‡§≤‡§ø‡§π‡§æ"
                  />
                </div>
              </div>

              {/* Location Section */}
              <div className="space-y-4">
                <div className="flex items-center gap-2 mb-4">
                  <MapPin className="h-5 w-5 text-primary" />
                  <h3 className="text-lg font-semibold text-foreground">‡§∏‡•ç‡§•‡§æ‡§® ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä</h3>
                </div>
                
                <div className="grid md:grid-cols-3 gap-4">
                  <div className="space-y-2">
                    <Label className="text-sm font-semibold text-foreground">‡§ú‡§ø‡§≤‡•ç‡§π‡§æ *</Label>
                    <Select value={form.district} onValueChange={handleDistrictChange}>
                      <SelectTrigger>
                        <SelectValue placeholder="‡§ú‡§ø‡§≤‡•ç‡§π‡§æ ‡§®‡§ø‡§µ‡§°‡§æ" />
                      </SelectTrigger>
                      <SelectContent>
                        {districtsData.map((d, i) => (
                          <SelectItem key={i} value={d.name}>{d.name}</SelectItem>
                        ))}
                      </SelectContent>
                    </Select>
                  </div>

                  <div className="space-y-2">
                    <Label className="text-sm font-semibold text-foreground">‡§§‡§æ‡§≤‡•Å‡§ï‡§æ *</Label>
                    <Select value={form.sub} onValueChange={handleTalukaChange}>
                      <SelectTrigger>
                        <SelectValue placeholder="‡§§‡§æ‡§≤‡•Å‡§ï‡§æ ‡§®‡§ø‡§µ‡§°‡§æ" />
                      </SelectTrigger>
                      <SelectContent>
                        {talukaList.map((t: any, i) => (
                          <SelectItem key={i} value={t.name}>{t.name}</SelectItem>
                        ))}
                      </SelectContent>
                    </Select>
                  </div>

                  <div className="space-y-2">
                    <Label className="text-sm font-semibold text-foreground">‡§ó‡§æ‡§µ *</Label>
                    <Select value={form.village} onValueChange={handleVillageChange}>
                      <SelectTrigger>
                        <SelectValue placeholder="‡§ó‡§æ‡§µ ‡§®‡§ø‡§µ‡§°‡§æ" />
                      </SelectTrigger>
                      <SelectContent>
                        {villageList.map((v, i) => (
                          <SelectItem key={i} value={v}>{v}</SelectItem>
                        ))}
                      </SelectContent>
                    </Select>
                  </div>
                </div>
              </div>

              {/* Occupation & Beneficiary Section */}
              <div className="grid md:grid-cols-2 gap-6">
                <div className="space-y-2">
                  <Label className="text-sm font-semibold text-foreground flex items-center gap-2">
                    <Briefcase className="h-4 w-4 text-primary" />
                    ‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø *
                  </Label>
                  <Select value={form.beneficiaryType} onValueChange={(value) => handleSelectChange("beneficiaryType", value)}>
                    <SelectTrigger>
                      <SelectValue placeholder="‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø ‡§®‡§ø‡§µ‡§°‡§æ" />
                    </SelectTrigger>
                    <SelectContent>
                      <SelectItem value="‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§∞‡•ç‡§•‡•Ä">‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§∞‡•ç‡§•‡•Ä</SelectItem>
                      <SelectItem value="‡§∂‡•á‡§§‡§ï‡§∞‡•Ä">‡§∂‡•á‡§§‡§ï‡§∞‡•Ä</SelectItem>
                      <SelectItem value="‡§ï‡§æ‡§Æ‡§ó‡§æ‡§∞">‡§ï‡§æ‡§Æ‡§ó‡§æ‡§∞</SelectItem>
                      <SelectItem value="‡§Æ‡•ã‡§≤‡§Æ‡§ú‡•Ç‡§∞‡•Ä">‡§Æ‡•ã‡§≤‡§Æ‡§ú‡•Ç‡§∞‡•Ä</SelectItem>
                      <SelectItem value="‡§â‡§¶‡•ç‡§Ø‡•ã‡§ó">‡§â‡§¶‡•ç‡§Ø‡•ã‡§ó</SelectItem>
                      <SelectItem value="‡§ó‡•É‡§π‡§ø‡§£‡•Ä">‡§ó‡•É‡§π‡§ø‡§£‡•Ä</SelectItem>
                    </SelectContent>
                  </Select>
                </div>

                <div className="space-y-2">
                  <Label className="text-sm font-semibold text-foreground flex items-center gap-2">
                    <Users className="h-4 w-4 text-primary" />
                    ‡§≤‡§æ‡§≠‡§æ‡§∞‡•ç‡§•‡•Ä
                  </Label>
                  <Select value={form.childName} onValueChange={(value) => handleSelectChange("childName", value)}>
                    <SelectTrigger>
                      <SelectValue />
                    </SelectTrigger>
                    <SelectContent>
                      <SelectItem value="‡§∏‡•ç‡§µ‡§§:">‡§∏‡•ç‡§µ‡§§:</SelectItem>
                      <SelectItem value="‡§Æ‡•Å‡§≤‡§ó‡§æ">‡§Æ‡•Å‡§≤‡§ó‡§æ</SelectItem>
                      <SelectItem value="‡§Æ‡•Å‡§≤‡§ó‡•Ä">‡§Æ‡•Å‡§≤‡§ó‡•Ä</SelectItem>
                    </SelectContent>
                  </Select>
                </div>
              </div>

              {/* Child Name Field (Conditional) */}
              {["‡§Æ‡•Å‡§≤‡§ó‡§æ", "‡§Æ‡•Å‡§≤‡§ó‡•Ä"].includes(form.childName) && (
                <div className="space-y-2">
                  <Label htmlFor="valueChild" className="text-sm font-semibold text-foreground">
                    ‡§≤‡§æ‡§≠‡§æ‡§∞‡•ç‡§•‡•Ä ‡§ö‡•á ‡§®‡§æ‡§µ *
                  </Label>
                  <Input
                    id="valueChild"
                    name="valueChild"
                    value={form.valueChild}
                    onChange={handleInputChange}
                    className="transition-all duration-200 focus:shadow-md"
                    placeholder="‡§≤‡§æ‡§≠‡§æ‡§∞‡•ç‡§•‡•Ä ‡§ö‡•á ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§®‡§æ‡§µ ‡§≤‡§ø‡§π‡§æ"
                  />
                </div>
              )}

              {/* Document Selection */}
              <div className="space-y-4">
                <h3 className="text-lg font-semibold text-foreground flex items-center gap-2">
                  <FileText className="h-5 w-5 text-primary" />
                  ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§ï‡§æ‡§ó‡§¶‡§™‡§§‡•ç‡§∞‡•á ‡§®‡§ø‡§µ‡§°‡§æ
                </h3>
                
                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                  {documentOptions.map(({ id, label, icon: Icon, color }) => (
                    <div key={id} className="flex items-center space-x-3 p-4 rounded-lg border border-border hover:border-primary/30 hover:bg-primary/5 transition-all duration-200 group">
                      <Checkbox
                        id={id}
                        checked={checkboxes[id as keyof typeof checkboxes]}
                        onCheckedChange={(checked) => handleCheckboxChange(id, !!checked)}
                        className="data-[state=checked]:bg-primary data-[state=checked]:border-primary"
                      />
                      <Label
                        htmlFor={id}
                        className="flex items-center gap-2 text-sm font-medium text-foreground cursor-pointer group-hover:text-primary transition-colors"
                      >
                        <Icon className={`h-4 w-4 ${color}`} />
                        {label}
                      </Label>
                    </div>
                  ))}
                </div>
              </div>

              {/* Conditional Caste and Religion Fields */}
              {checkboxes.casteCheckbox && (
                <div className="grid md:grid-cols-2 gap-6 p-4 bg-primary/5 rounded-lg border border-primary/20">
                  <div className="space-y-2">
                    <Label htmlFor="caste" className="text-sm font-semibold text-foreground">
                      ‡§ú‡§æ‡§§ *
                    </Label>
                    <Input
                      id="caste"
                      name="caste"
                      value={form.caste}
                      onChange={handleInputChange}
                      className="transition-all duration-200 focus:shadow-md"
                      placeholder="‡§ú‡§æ‡§§ ‡§≤‡§ø‡§π‡§æ"
                    />
                  </div>

                  <div className="space-y-2">
                    <Label className="text-sm font-semibold text-foreground flex items-center gap-2">
                      <User className="h-4 w-4 text-primary" />
                      ‡§ß‡§∞‡•ç‡§Æ *
                    </Label>
                    <Select value={form.Religion} onValueChange={(value) => handleSelectChange("Religion", value)}>
                      <SelectTrigger>
                        <SelectValue placeholder="‡§ß‡§∞‡•ç‡§Æ ‡§®‡§ø‡§µ‡§°‡§æ" />
                      </SelectTrigger>
                      <SelectContent>
                        <SelectItem value="‡§π‡§ø‡§Ç‡§¶‡•Ç">‡§π‡§ø‡§Ç‡§¶‡•Ç</SelectItem>
                        <SelectItem value="‡§¨‡•å‡§¶‡•ç‡§ß">‡§¨‡•å‡§¶‡•ç‡§ß</SelectItem>
                        <SelectItem value="‡§ñ‡•ç‡§∞‡§ø‡§∂‡•ç‡§ö‡§®">‡§ñ‡•ç‡§∞‡§ø‡§∂‡•ç‡§ö‡§®</SelectItem>
                        <SelectItem value="‡§ú‡•à‡§®">‡§ú‡•à‡§®</SelectItem>
                        <SelectItem value="‡§Æ‡•Å‡§∏‡•ç‡§≤‡§ø‡§Æ">‡§Æ‡•Å‡§∏‡•ç‡§≤‡§ø‡§Æ</SelectItem>
                        <SelectItem value="‡§∂‡•Ä‡§ñ">‡§∂‡•Ä‡§ñ</SelectItem>
                        <SelectItem value="‡§™‡§æ‡§∞‡§∂‡•Ä">‡§™‡§æ‡§∞‡§∂‡•Ä (‡§ù‡•ã‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡§ø‡§Ø‡§®)</SelectItem>
                        <SelectItem value="‡§á‡§§‡§∞">‡§á‡§§‡§∞</SelectItem>
                      </SelectContent>
                    </Select>
                  </div>
                </div>
              )}

              {/* Submit Button */}
              <div className="flex justify-center pt-6">
                <Button
                  type="submit"
          //        size="xl"
           //       variant="government"
                  disabled={isSubmitting}
                  className="px-12 py-3 font-semibold"
                >
                  {isSubmitting ? (
                    <>
                      <div className="animate-spin rounded-full h-5 w-5 border-2 border-current border-t-transparent mr-2" />
                      ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡§§ ‡§Ü‡§π‡•á...
                    </>
                  ) : (
                    <>
                      <FileText className="h-5 w-5 mr-2" />
                      ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡§æ
                    </>
                  )}
                </Button>
              </div>
            </form>
          </CardContent>
        </Card>
      </div>
    </div>
      </div>
    </div>
  </Layout>
);
};

export default SetuForm;